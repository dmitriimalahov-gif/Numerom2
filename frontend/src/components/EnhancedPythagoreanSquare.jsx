import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';
import { Button } from './ui/button';
import { useAuth } from './AuthContext';
import { X, Info } from 'lucide-react';

const EnhancedPythagoreanSquare = () => {
  const [analysis, setAnalysis] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const [selectedCell, setSelectedCell] = useState(null);
  const [selectedSum, setSelectedSum] = useState(null);
  const { user } = useAuth();

  // –¶–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞–Ω–µ—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –¥–∏–∑–∞–π–Ω—É
  const planetColors = {
    '1': '#ff6b35', // –°–æ–ª–Ω—Ü–µ - –æ—Ä–∞–Ω–∂–µ–≤—ã–π
    '2': '#87ceeb', // –õ—É–Ω–∞ - –≥–æ–ª—É–±–æ–π  
    '3': '#ffd700', // –Æ–ø–∏—Ç–µ—Ä - –∑–æ–ª–æ—Ç–æ–π
    '4': '#8b4513', // –†–∞—Ö—É - –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π
    '5': '#90ee90', // –¶–µ–Ω—Ç—Ä - —Å–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π
    '6': '#ff69b4', // –í–µ–Ω–µ—Ä–∞ - —Ä–æ–∑–æ–≤—ã–π
    '7': '#9370db', // –ö–µ—Ç—É - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
    '8': '#4169e1', // –°–∞—Ç—É—Ä–Ω - —Å–∏–Ω–∏–π
    '9': '#dc143c', // –ú–∞—Ä—Å - –∫—Ä–∞—Å–Ω—ã–π
  };

  // –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏
  const detailedInterpretations = {
    '1': {
      name: '–°–æ–ª–Ω—Ü–µ (–°—É—Ä—å—è)',
      position: '–ü–æ–∑–∏—Ü–∏—è 1',
      qualities: ['–õ–∏–¥–µ—Ä—Å—Ç–≤–æ', '–ê–º–±–∏—Ü–∏–∏', '–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ', '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å'],
      strongPoints: [
        '–ü—Ä–∏—Ä–æ–∂–¥–µ–Ω–Ω—ã–π –ª–∏–¥–µ—Ä —Å —Å–∏–ª—å–Ω—ã–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º',
        '–í—ã—Å–æ–∫–∏–µ –∞–º–±–∏—Ü–∏–∏ –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —É—Å–ø–µ—Ö—É',
        '–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º—ã—à–ª–µ–Ω–∏—è',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –∏ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö',
        '–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–µ—à–µ–Ω–∏—è—Ö'
      ],
      weakPoints: [
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —ç–≥–æ–∏–∑–º—É –∏ —Å–∞–º–æ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏',
        '–ù–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ –∫—Ä–∏—Ç–∏–∫–µ',
        '–ñ–µ–ª–∞–Ω–∏–µ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
        '–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π'
      ],
      recommendations: [
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —É–º–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç—å –¥—Ä—É–≥–∏—Ö –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏—Ö –º–Ω–µ–Ω–∏–µ',
        '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –ø–æ–º–æ—â–∏ –æ–∫—Ä—É–∂–∞—é—â–∏–º',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–ª—è —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è',
        '–£—á–∏—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ, –Ω–µ –ø–æ–¥–∞–≤–ª—è—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –¥—Ä—É–≥–∏—Ö',
        '–ú–µ–¥–∏—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –≤–æ—Å—Ö–æ–¥–µ —Å–æ–ª–Ω—Ü–∞ –¥–ª—è —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏'
      ],
      professions: ['CEO, –¥–∏—Ä–µ–∫—Ç–æ—Ä', '–ê–∫—Ç–µ—Ä, —Ö—É–¥–æ–∂–Ω–∏–∫', '–ü–æ–ª–∏—Ç–∏–∫', '–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–µ–±–µ, –Ω–∏–∑–∫—É—é —Å–∞–º–æ–æ—Ü–µ–Ω–∫—É, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ–º –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –∫–∞—á–µ—Å—Ç–≤'
    },
    '2': {
      name: '–õ—É–Ω–∞ (–ß–∞–Ω–¥—Ä–∞)',
      position: '–ü–æ–∑–∏—Ü–∏—è 2',
      qualities: ['–ò–Ω—Ç—É–∏—Ü–∏—è', '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å', '–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ', '–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å'],
      strongPoints: [
        '–í—ã—Å–æ–∫–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —ç–º–ø–∞—Ç–∏–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—é –¥—Ä—É–≥–∏—Ö',
        '–¢–∞–ª–∞–Ω—Ç –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏–∏',
        '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∫—É—Å –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
        '–£–º–µ–Ω–∏–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—é –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö'
      ],
      weakPoints: [
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–ø–∞–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è',
        '–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –º–Ω–µ–Ω–∏—è –æ–∫—Ä—É–∂–∞—é—â–∏—Ö',
        '–ù–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –≤–∞–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö',
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –¥–µ–ø—Ä–µ—Å—Å–∏–≤–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º'
      ],
      recommendations: [
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –º–µ–¥–∏—Ç–∞—Ü–∏—é',
        '–î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –∏—Å–∫—É—Å—Å—Ç–≤–æ–º –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —á—É–≤—Å—Ç–≤',
        '–£—á–∏—Ç–µ—Å—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã',
        '–ü—Ä–æ–≤–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è —É –≤–æ–¥—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏'
      ],
      professions: ['–ü—Å–∏—Ö–æ–ª–æ–≥, –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç', '–ú—É–∑—ã–∫–∞–Ω—Ç, –ø–æ—ç—Ç', '–ú–µ–¥—Å–µ—Å—Ç—Ä–∞, –≤—Ä–∞—á', '–£—á–∏—Ç–µ–ª—å', '–î–∏–∑–∞–π–Ω–µ—Ä'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∏–Ω—Ç—É–∏—Ü–∏–∏'
    },
    '3': {
      name: '–Æ–ø–∏—Ç–µ—Ä (–ì—É—Ä—É)',
      position: '–ü–æ–∑–∏—Ü–∏—è 3',
      qualities: ['–ú—É–¥—Ä–æ—Å—Ç—å', '–û–ø—Ç–∏–º–∏–∑–º', '–≠–∫—Å–ø–∞–Ω—Å–∏—è', '–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å'],
      strongPoints: [
        '–®–∏—Ä–æ–∫–∏–π –∫—Ä—É–≥–æ–∑–æ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ',
        '–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–º –∏ –≤–µ—Ä–∞ –≤ –ª—É—á—à–µ–µ',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –æ–±—É—á–µ–Ω–∏—é –∏ –ø–µ—Ä–µ–¥–∞—á–µ –∑–Ω–∞–Ω–∏–π',
        '–ß—É–≤—Å—Ç–≤–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ –∏ –º–æ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã',
        '–¢–∞–ª–∞–Ω—Ç –∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–º—É –º—ã—à–ª–µ–Ω–∏—é'
      ],
      weakPoints: [
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —Å–∞–º–æ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–º–µ—Ä–∏—é',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–º, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º',
        '–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –ø–æ—É—á–∞—Ç—å –¥—Ä—É–≥–∏—Ö',
        '–†–∞—Å—Ç–æ—á–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–µ—É–º–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏—Ç—å'
      ],
      recommendations: [
        '–ò–∑—É—á–∞–π—Ç–µ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –∏ –¥—É—Ö–æ–≤–Ω—ã–µ —É—á–µ–Ω–∏—è',
        '–î–µ–ª–∏—Ç–µ—Å—å –∑–Ω–∞–Ω–∏—è–º–∏, –Ω–æ –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–π—Ç–µ –∏—Ö',
        '–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å—ã –∏ –∏–∑–±–µ–≥–∞–π—Ç–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã—Ö —Ç—Ä–∞—Ç',
        '–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π—Ç–µ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏—è',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é'
      ],
      professions: ['–£—á–∏—Ç–µ–ª—å, –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä', '–§–∏–ª–æ—Å–æ—Ñ, –ø–∏—Å–∞—Ç–µ–ª—å', '–Æ—Ä–∏—Å—Ç, —Å—É–¥—å—è', '–°–≤—è—â–µ–Ω–Ω–∏–∫', '–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤–µ—Ä—ã –≤ —Å–µ–±—è, –ø–µ—Å—Å–∏–º–∏–∑–º, —É–∑–∫–∏–π –∫—Ä—É–≥–æ–∑–æ—Ä, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –æ–±—É—á–µ–Ω–∏–µ–º'
    },
    '4': {
      name: '–†–∞—Ö—É (–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª)',
      position: '–ü–æ–∑–∏—Ü–∏—è 4',
      qualities: ['–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å', '–¢—Ä—É–¥–æ–ª—é–±–∏–µ', '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å', '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å'],
      strongPoints: [
        '–í—ã—Å–æ–∫–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞',
        '–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–∫–ª–∞–¥ —É–º–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏',
        '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤ –¥–µ–ª–∞—Ö',
        '–£–º–µ–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–≤–æ–¥–∏—Ç—å –¥–µ–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞',
        '–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏'
      ],
      weakPoints: [
        '–ò–∑–ª–∏—à–Ω—è—è –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–∞–º',
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —É–ø—Ä—è–º—Å—Ç–≤—É –∏ –Ω–µ–≥–∏–±–∫–æ—Å—Ç–∏',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Å–µ–±–µ –∏ –¥—Ä—É–≥–∏–º',
        '–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º —ç–º–æ—Ü–∏–π'
      ],
      recommendations: [
        '–£—á–∏—Ç–µ—Å—å –±—ã—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ –≤ –ø–ª–∞–Ω–∞—Ö',
        '–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–±–æ—Ç–æ–π –∏ –æ—Ç–¥—ã—Ö–æ–º',
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏',
        '–ù–µ –±–æ–π—Ç–µ—Å—å —Ä–∞–∑—É–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω –≤ –∂–∏–∑–Ω–∏',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –∑–µ–º–ª–µ–¥–µ–ª–∏–µ–º –∏–ª–∏ —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–æ–º'
      ],
      professions: ['–ú–µ–Ω–µ–¥–∂–µ—Ä, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', '–ò–Ω–∂–µ–Ω–µ—Ä, —Ç–µ—Ö–Ω–∏–∫', '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä', '–°—Ç—Ä–æ–∏—Ç–µ–ª—å', '–§–µ—Ä–º–µ—Ä'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, —Ö–∞–æ—Å –≤ –¥–µ–ª–∞—Ö, –Ω–µ–∂–µ–ª–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å, –±–µ–∑–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å'
    },
    '5': {
      name: '–¶–µ–Ω—Ç—Ä (–ë–∞–ª–∞–Ω—Å)',
      position: '–ü–æ–∑–∏—Ü–∏—è 5 - –¶–µ–Ω—Ç—Ä',
      qualities: ['–°–≤–æ–±–æ–¥–∞', '–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å', '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è', '–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å'],
      strongPoints: [
        '–õ—é–±–æ–≤—å –∫ —Å–≤–æ–±–æ–¥–µ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—é',
        '–í—ã—Å–æ–∫–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ö–∞—Ä–∏–∑–º–∞',
        '–ë—ã—Å—Ç—Ä–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –Ω–æ–≤—ã–º —É—Å–ª–æ–≤–∏—è–º',
        '–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø–æ–∑–Ω–∞–Ω–∏—é',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –∏ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö'
      ],
      weakPoints: [
        '–ù–µ—Ç–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å –∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å',
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –Ω–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤—É –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –∏ –¥–µ–ª–∞—Ö',
        '–ò–∑–±–µ–≥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏',
        '–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π'
      ],
      recommendations: [
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –≥–ª—É–±–∏–Ω—É –≤ –∏–∑—É—á–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤',
        '–£—á–∏—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ —Å–µ–±—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å',
        '–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π—Ç–µ –∏ –∏–∑—É—á–∞–π—Ç–µ –Ω–æ–≤—ã–µ –∫—É–ª—å—Ç—É—Ä—ã',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Å–ø–æ—Ä—Ç–æ–º –¥–ª—è –≤—ã—Ö–æ–¥–∞ —ç–Ω–µ—Ä–≥–∏–∏',
        '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –≤–Ω–∏–º–∞–Ω–∏—è'
      ],
      professions: ['–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç, –±–ª–æ–≥–µ—Ä', '–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫', '–ü—Ä–æ–¥–∞–≤–µ—Ü, –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥', '–ì–∏–¥, —ç–∫—Å–∫—É—Ä—Å–æ–≤–æ–¥', '–ê–∫—Ç–µ—Ä'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –æ–±—â–µ–Ω–∏–∏, –∑–∞–º–∫–Ω—É—Ç–æ—Å—Ç—å'
    },
    '6': {
      name: '–í–µ–Ω–µ—Ä–∞ (–®—É–∫—Ä–∞)',
      position: '–ü–æ–∑–∏—Ü–∏—è 6',
      qualities: ['–ì–∞—Ä–º–æ–Ω–∏—è', '–ö—Ä–∞—Å–æ—Ç–∞', '–õ—é–±–æ–≤—å', '–ó–∞–±–æ—Ç–∞'],
      strongPoints: [
        '–†–∞–∑–≤–∏—Ç–æ–µ —á—É–≤—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∫—É—Å',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –ª—é–±–≤–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—é –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π',
        '–ó–∞–±–æ—Ç–ª–∏–≤–æ—Å—Ç—å –∏ –∂–µ–ª–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º',
        '–î–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ',
        '–¢–∞–ª–∞–Ω—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é —É—é—Ç–Ω–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã'
      ],
      weakPoints: [
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º—É –∏ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –∑–∞–±–æ—Ç–∞ –æ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏',
        '–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ–∫—Ä—É–∂–∞—é—â–∏—Ö',
        '–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –ø—Ä–∏–Ω—è—Ç–∏–µ–º —Ä–µ—à–µ–Ω–∏–π –∏–∑-–∑–∞ –∂–µ–ª–∞–Ω–∏—è —É–≥–æ–¥–∏—Ç—å –≤—Å–µ–º'
      ],
      recommendations: [
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ',
        '–£—á–∏—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–µ–±—è —Ç–∞–∫–∏–º, –∫–∞–∫–æ–π –≤—ã –µ—Å—Ç—å',
        '–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫—Ä–∞—Å–æ—Ç—É –≤–æ–∫—Ä—É–≥ —Å–µ–±—è',
        '–ü–æ–º–æ–≥–∞–π—Ç–µ –¥—Ä—É–≥–∏–º –Ω–∞–π—Ç–∏ –≥–∞—Ä–º–æ–Ω–∏—é –≤ –∂–∏–∑–Ω–∏',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–æ–º –∏–ª–∏ —Ñ–ª–æ—Ä–∏—Å—Ç–∏–∫–æ–π'
      ],
      professions: ['–•—É–¥–æ–∂–Ω–∏–∫, –¥–∏–∑–∞–π–Ω–µ—Ä', '–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥, —Å—Ç–∏–ª–∏—Å—Ç', '–°–µ–º–µ–π–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç', '–§–ª–æ—Ä–∏—Å—Ç', '–ú—É–∑—ã–∫–∞–Ω—Ç'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞—Ä–º–æ–Ω–∏–∏, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∑–∞–±–æ—Ç—ã –æ —Å–µ–±–µ'
    },
    '7': {
      name: '–ö–µ—Ç—É (–Æ–∂–Ω—ã–π —É–∑–µ–ª)',
      position: '–ü–æ–∑–∏—Ü–∏—è 7',
      qualities: ['–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å', '–ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è', '–ú–∏—Å—Ç–∏—Ü–∏–∑–º', '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è'],
      strongPoints: [
        '–ì–ª—É–±–æ–∫–∞—è –¥—É—Ö–æ–≤–Ω–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è –∏ –º—É–¥—Ä–æ—Å—Ç—å',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –∞–Ω–∞–ª–∏–∑—É –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é',
        '–¢–∞–ª–∞–Ω—Ç –∫ –∏–∑—É—á–µ–Ω–∏—é —Å–∫—Ä—ã—Ç—ã—Ö –∑–Ω–∞–Ω–∏–π',
        '–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—é –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏',
        '–£–º–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏—Å—Ç–∏–Ω—É –≤ —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö'
      ],
      weakPoints: [
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –∏–∑–æ–ª—è—Ü–∏–∏ –∏ –æ—Ç—á—É–∂–¥–µ–Ω–Ω–æ—Å—Ç–∏',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –∏ —Å–∫–µ–ø—Ç–∏—Ü–∏–∑–º',
        '–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ —ç–º–æ—Ü–∏–π',
        '–ü–µ—Å—Å–∏–º–∏–∑–º –∏ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –¥–µ–ø—Ä–µ—Å—Å–∏–∏'
      ],
      recommendations: [
        '–ò–∑—É—á–∞–π—Ç–µ –¥—É—Ö–æ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏—é',
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏',
        '–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ–º –∏ –æ–±—â–µ–Ω–∏–µ–º',
        '–î–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ —Å –¥—Ä—É–≥–∏–º–∏',
        '–ü—Ä–æ–≤–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤ –ø—Ä–∏—Ä–æ–¥–µ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è'
      ],
      professions: ['–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å, —É—á–µ–Ω—ã–π', '–ü—Å–∏—Ö–æ–ª–æ–≥, –∞–Ω–∞–ª–∏—Ç–∏–∫', '–ú–∏—Å—Ç–∏–∫, –∞—Å—Ç—Ä–æ–ª–æ–≥', '–î–µ—Ç–µ–∫—Ç–∏–≤', '–•–∏—Ä—É—Ä–≥'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è, –Ω–µ–∂–µ–ª–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å'
    },
    '8': {
      name: '–°–∞—Ç—É—Ä–Ω (–®–∞–Ω–∏)',
      position: '–ü–æ–∑–∏—Ü–∏—è 8',
      qualities: ['–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞', '–ê–º–±–∏—Ü–∏–∏', '–í–ª–∞—Å—Ç—å', '–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö'],
      strongPoints: [
        '–°–∏–ª—å–Ω—ã–µ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∞–º–±–∏—Ü–∏–∏',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏',
        '–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å –≤ –¥–µ–Ω–µ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö',
        '–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–π',
        '–£–º–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è'
      ],
      weakPoints: [
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –∞–≤—Ç–æ—Ä–∏—Ç–∞—Ä–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—é',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å',
        '–ù–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ —Å–ª–∞–±–æ—Å—Ç–∏ –¥—Ä—É–≥–∏—Ö',
        '–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –≤–ª–∞—Å—Ç–∏ –ª—é–±–æ–π —Ü–µ–Ω–æ–π'
      ],
      recommendations: [
        '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–ª–∞—Å—Ç—å –¥–ª—è –ø–æ–º–æ—â–∏ –¥—Ä—É–≥–∏–º',
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–ø–∞—Ç–∏—é –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ',
        '–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–º –∏ –¥—É—Ö–æ–≤–Ω—ã–º',
        '–£—á–∏—Ç–µ—Å—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ–º–æ—á–∏—è',
        '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —â–µ–¥—Ä–æ—Å—Ç—å –∏ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å'
      ],
      professions: ['–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å, CEO', '–ë–∞–Ω–∫–∏—Ä, —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç', '–ü–æ–ª–∏—Ç–∏–∫', '–•–∏—Ä—É—Ä–≥', '–í–æ–µ–Ω–Ω—ã–π'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∞–º–±–∏—Ü–∏–π, –∏–∑–±–µ–≥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏'
    },
    '9': {
      name: '–ú–∞—Ä—Å (–ú–∞–Ω–≥–∞–ª)',
      position: '–ü–æ–∑–∏—Ü–∏—è 9',
      qualities: ['–≠–Ω–µ—Ä–≥–∏—è', '–°–º–µ–ª–æ—Å—Ç—å', '–°–ª—É–∂–µ–Ω–∏–µ', '–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ'],
      strongPoints: [
        '–í—ã—Å–æ–∫–∞—è —ç–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å –∏ —ç–Ω—Ç—É–∑–∏–∞–∑–º',
        '–•—Ä–∞–±—Ä–æ—Å—Ç—å –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∑–∞—â–∏—â–∞—Ç—å –¥—Ä—É–≥–∏—Ö',
        '–ñ–µ–ª–∞–Ω–∏–µ —Å–ª—É–∂–∏—Ç—å –æ–±—â–µ—Å—Ç–≤—É –∏ –ø–æ–º–æ–≥–∞—Ç—å –ª—é–¥—è–º',
        '–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ –∏ –≥—É–º–∞–Ω–Ω–æ—Å—Ç—å',
        '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—é —Ä–∞–¥–∏ –≤—ã—Å—à–∏—Ö —Ü–µ–ª–µ–π'
      ],
      weakPoints: [
        '–í—Å–ø—ã–ª—å—á–∏–≤–æ—Å—Ç—å –∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å',
        '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏—è–º',
        '–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å',
        '–ù–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏'
      ],
      recommendations: [
        '–ù–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ –ø–æ–º–æ—â—å –æ–±—â–µ—Å—Ç–≤—É',
        '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å',
        '–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Å–ø–æ—Ä—Ç–æ–º –¥–ª—è –≤—ã—Ö–æ–¥–∞ —ç–Ω–µ—Ä–≥–∏–∏',
        '–ò–∑—É—á–∞–π—Ç–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ –∫—É–ª—å—Ç—É—Ä—É',
        '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–Ω–µ–≤–æ–º'
      ],
      professions: ['–í—Ä–∞—á, —Ü–µ–ª–∏—Ç–µ–ª—å', '–£—á–∏—Ç–µ–ª—å, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å', '–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫', '–•—É–¥–æ–∂–Ω–∏–∫', '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å'],
      challenges: '–ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–≥–æ–∏–∑–º, –Ω–µ–∂–µ–ª–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏—è'
    }
  };

  // –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—É–º–º –ª–∏–Ω–∏–π
  const sumInterpretations = {
    horizontal: [
      {
        title: '–ü–µ—Ä–≤–∞—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (1-2-3): –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏',
        description: '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Å–≤–æ–∏ –±–∞–∑–æ–≤—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –ø–∏—â–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–µ.',
        meanings: {
          0: '–ö—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, –∞—Å–∫–µ—Ç–∏–∑–º, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º –±–∞–∑–æ–≤—ã—Ö –Ω—É–∂–¥',
          1: '–°–∫—Ä–æ–º–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, —É–º–µ–Ω–∏–µ –¥–æ–≤–æ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –º–∞–ª—ã–º, –Ω–æ –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å',
          2: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, —É–º–µ–Ω–∏–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–∞–∑—É–º–Ω–æ',
          3: '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –ª—é–±–æ–≤—å –∫ –∫–æ–º—Ñ–æ—Ä—Ç—É, —Ö–æ—Ä–æ—à–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫ –∑–∞—Ä–∞–±–æ—Ç–∫—É',
          4: '–í—ã—Å–æ–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –∞–º–±–∏—Ü–∏–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —Ä–∞—Å—Ç–æ—á–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, –∫ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å—Å—Ç–≤—É',
          5: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, –≤–∞–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ç—ã –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —â–µ–¥—Ä–æ—Å—Ç—å'
        }
      },
      {
        title: '–í—Ç–æ—Ä–∞—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (4-5-6): –°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–µ–º—å–µ',
        description: '–û—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Å–µ–º—å–µ, –±–ª–∏–∑–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ–º–∞—à–Ω–µ–≥–æ –æ—á–∞–≥–∞.',
        meanings: {
          0: '–°–ª–∞–±–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–µ–º–µ–π–Ω–æ–π –∂–∏–∑–Ω–∏, –≤–æ–∑–º–æ–∂–Ω—ã —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ–º—å–∏ –∏–ª–∏ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ –ø–æ –≤—ã–±–æ—Ä—É',
          1: '–£–º–µ—Ä–µ–Ω–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Å–µ–º—å–µ, –≤–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ–º—å–∏, –Ω–æ —Å–µ–º—å—è –±—É–¥–µ—Ç –∫—Ä–µ–ø–∫–æ–π',
          2: '–ì–∞—Ä–º–æ–Ω–∏—á–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–µ–º—å–µ, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π',
          3: '–°–∏–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Å–µ–º—å–µ, –±–æ–ª—å—à–æ–µ –∂–µ–ª–∞–Ω–∏–µ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –±–ª–∏–∑–∫–∏—Ö, –≤–æ–∑–º–æ–∂–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –±—Ä–∞–∫–æ–≤',
          4: '–û—á–µ–Ω—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–µ–º—å–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ä–µ–∑–º–µ—Ä–Ω–∞—è –æ–ø–µ–∫–∞ –∏–ª–∏ —Ä–µ–≤–Ω–æ—Å—Ç—å',
          5: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Å–µ–º—å–µ, –≤–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è –¥–∞–≤–∞—Ç—å —Å–≤–æ–±–æ–¥—É –±–ª–∏–∑–∫–∏–º'
        }
      },
      {
        title: '–¢—Ä–µ—Ç—å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (7-8-9): –¢–∞–ª–∞–Ω—Ç –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
        description: '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, —Ç–∞–ª–∞–Ω—Ç—ã –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ –∂–∏–∑–Ω–∏.',
        meanings: {
          0: '–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –∂–∏–∑–Ω–∏, —Ç–∞–ª–∞–Ω—Ç—ã —Å–∫—Ä—ã—Ç—ã –∏ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–≤–∏—Ç–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã —á–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã',
          1: '–ï—Å—Ç—å —Ç–∞–ª–∞–Ω—Ç, –Ω–æ –Ω—É–∂–Ω–æ –µ–≥–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å, —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç',
          2: '–•–æ—Ä–æ—à–∏–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, —É–º–µ–Ω–∏–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –∂–∏–∑–Ω–∏',
          3: '–í—ã—Ä–∞–∂–µ–Ω–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã, —Å–∏–ª—å–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –≤–æ–∑–º–æ–∂–µ–Ω —É—Å–ø–µ—Ö –≤ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ',
          4: '–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã, –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º',
          5: '–ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ä–µ–∑–º–µ—Ä–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç—Ä–æ–ª—é'
        }
      }
    ],
    vertical: [
      {
        title: '–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å (1-4-7): –¶–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å',
        description: '–û—Ç—Ä–∞–∂–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏ –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å –∏—Ö, —Å–∏–ª—É –≤–æ–ª–∏ –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.',
        meanings: {
          0: '–°–ª–∞–±–∞—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º —Ü–µ–ª–µ–π, –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –≤–æ–ª—é',
          1: '–£–º–µ—Ä–µ–Ω–Ω–∞—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å, —Ü–µ–ª–∏ —Å—Ç–∞–≤—è—Ç—Å—è, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥–∞—é—Ç—Å—è',
          2: '–•–æ—Ä–æ—à–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–µ–π, —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å',
          3: '–°–∏–ª—å–Ω–∞—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å, –≤—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á',
          4: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å, –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ —É–ø—Ä—è–º—Å—Ç–≤–æ',
          5: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å, –≤–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è –≥–∏–±–∫–æ—Å—Ç–∏ –≤ –ø–ª–∞–Ω–∞—Ö'
        }
      },
      {
        title: '–í—Ç–æ—Ä–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å (2-5-8): –°–µ–º–µ–π–Ω–æ—Å—Ç—å',
        description: '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫ —Å–µ–º—å–µ, —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–µ–º–µ–π–Ω–æ–π –∂–∏–∑–Ω–∏.',
        meanings: {
          0: '–°–ª–∞–±—ã–µ —Å–µ–º–µ–π–Ω—ã–µ —Å–≤—è–∑–∏, –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏ –∏–ª–∏ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ',
          1: '–£–º–µ—Ä–µ–Ω–Ω–∞—è —Å–µ–º–µ–π–Ω–æ—Å—Ç—å, –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Å–µ–º—å–µ–π —Ä–æ–≤–Ω—ã–µ, –Ω–æ –Ω–µ –æ—á–µ–Ω—å –±–ª–∏–∑–∫–∏–µ',
          2: '–•–æ—Ä–æ—à–∏–µ —Å–µ–º–µ–π–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —É–º–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–≤—è–∑–∏ —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏',
          3: '–°–∏–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫ —Å–µ–º—å–µ, –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–º–µ–π–Ω—ã—Ö —Ç—Ä–∞–¥–∏—Ü–∏–π',
          4: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Å–µ–º–µ–π–Ω–æ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–∞ —á—Ä–µ–∑–º–µ—Ä–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–µ–º—å–∏',
          5: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫ —Å–µ–º—å–µ, –º–æ–∂–µ—Ç –º–µ—à–∞—Ç—å –ª–∏—á–Ω–æ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é'
        }
      },
      {
        title: '–¢—Ä–µ—Ç—å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å (3-6-9): –ü—Ä–∏–≤—ã—á–∫–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
        description: '–û—Ç—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º, –ø—Ä–∏–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏—è–º –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞.',
        meanings: {
          0: '–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä, —á–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã –≤ –ø—Ä–∏–≤—ã—á–∫–∞—Ö, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å',
          1: '–£–º–µ—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏—è–º',
          2: '–•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ –≥–∏–±–∫–æ—Å—Ç—å—é, —Ä–∞–∑—É–º–Ω—ã–π –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º',
          3: '–°–∏–ª—å–Ω–∞—è –ø—Ä–∏–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏—è–º, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å',
          4: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º, –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–∞–º',
          5: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º, –≤–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è'
        }
      }
    ],
    diagonal: [
      {
        title: '–ì–ª–∞–≤–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å (1-5-9): –î—É—Ö–æ–≤–Ω–æ—Å—Ç—å',
        description: '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è, –∏–Ω—Ç–µ—Ä–µ—Å –∫ —ç–∑–æ—Ç–µ—Ä–∏–∫–µ –∏ –≤—ã—Å—à–∏–º –∑–Ω–∞–Ω–∏—è–º.',
        meanings: {
          0: '–ú–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ, —Å–ª–∞–±—ã–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –¥—É—Ö–æ–≤–Ω–æ—Å—Ç–∏, —Ñ–æ–∫—É—Å –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö',
          1: '–ù–∞—á–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –¥—É—Ö–æ–≤–Ω–æ—Å—Ç–∏, –≤–æ–∑–º–æ–∂–Ω—ã –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è –æ —Å–º—ã—Å–ª–µ –∂–∏–∑–Ω–∏',
          2: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –¥—É—Ö–æ–≤–Ω–æ—Å—Ç–∏, –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏',
          3: '–í—ã—Ä–∞–∂–µ–Ω–Ω–∞—è –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –∏–∑—É—á–µ–Ω–∏—é —ç–∑–æ—Ç–µ—Ä–∏—á–µ—Å–∫–∏—Ö —É—á–µ–Ω–∏–π, –∏–Ω—Ç—É–∏—Ü–∏—è',
          4: '–í—ã—Å–æ–∫–∞—è –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω—ã —ç–∫—Å—Ç—Ä–∞—Å–µ–Ω—Å–æ—Ä–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –≥–ª—É–±–æ–∫–∏–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –º–∏—Å—Ç–∏–∫–µ',
          5: '–ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫ —É—Ö–æ–¥–∞ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å'
        }
      },
      {
        title: '–ü–æ–±–æ—á–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å (3-5-7): –¢–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç',
        description: '–û—Ç—Ä–∞–∂–∞–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è —á—É–≤—Å—Ç–≤.',
        meanings: {
          0: '–°–ø–æ–∫–æ–π–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, –Ω–∏–∑–∫–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–∞ —Ö–æ–ª–æ–¥–Ω–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
          1: '–£–º–µ—Ä–µ–Ω–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–∏ —ç–º–æ—Ü–∏–π',
          2: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, –∞–¥–µ–∫–≤–∞—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π',
          3: '–Ø—Ä–∫–∏–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
          4: '–û—á–µ–Ω—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, –≤—Å–ø—ã–ª—å—á–∏–≤–æ—Å—Ç—å, –Ω—É–∂–Ω–æ —É—á–∏—Ç—å—Å—è —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—é',
          5: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç, –≤–æ–∑–º–æ–∂–Ω—ã —Ä–µ–∑–∫–∏–µ –ø–µ—Ä–µ–ø–∞–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è'
        }
      }
    ]
  };

  const fetchAnalysis = async () => {
    if (!user) return;

    setLoading(true);
    setError('');

    try {
      const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/numerology/enhanced/full-analysis`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${localStorage.getItem('token')}`
        },
        body: JSON.stringify({
          name: user.full_name
        })
      });

      if (!response.ok) {
        throw new Error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞');
      }

      const data = await response.json();
      setAnalysis(data);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    if (user) {
      fetchAnalysis();
    }
  }, [user]);

  const renderSquareCell = (digit, row, col) => {
    const planetNumber = String((row * 3) + col + 1);
    const planetInfo = analysis?.enhanced_square?.planet_positions?.[planetNumber];
    const cellContent = analysis?.enhanced_square?.square?.[row]?.[col] || '';
    const color = planetColors[planetNumber] || '#e5e7eb';
    
    return (
      <div
        key={`${row}-${col}`}
        className="square-cell relative aspect-square border-2 border-gray-300 rounded-lg flex flex-col items-center justify-center text-center p-1 md:p-2 min-h-[80px] md:min-h-[120px] cursor-pointer hover:scale-105 transition-transform duration-200"
        style={{ backgroundColor: color + '20', borderColor: color }}
        onClick={() => setSelectedCell(planetNumber)}
      >
        {/* –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã */}
        <div className="planet-name text-xs font-semibold text-gray-700 mb-1">
          {planetInfo?.name?.split(' ')[0] || `–ü–ª–∞–Ω–µ—Ç–∞ ${planetNumber}`}
        </div>
        
        {/* –¶–∏—Ñ—Ä—ã */}
        <div className="planet-numbers text-lg md:text-2xl font-bold" style={{ color: color }}>
          {cellContent || '‚Äî'}
        </div>
        
        {/* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–Ω–µ—Ä–≥–∏–∏ */}
        <div className="energy-count text-xs mt-1 text-gray-600">
          {planetInfo?.count ? `${planetInfo.count} —ç–Ω–µ—Ä–≥–∏–π` : '–ø—É—Å—Ç–æ'}
        </div>
        
        {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã */}
        <div className="absolute top-1 right-1">
          <div 
            className={`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full ${
              planetInfo?.strength === '—Å–∏–ª—å–Ω–∞—è' ? 'bg-green-500' :
              planetInfo?.strength === '–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è' ? 'bg-yellow-500' :
              planetInfo?.strength === '—Å–ª–∞–±–∞—è' ? 'bg-red-500' :
              'bg-gray-300'
            }`}
          />
        </div>
        
        {/* –ò–∫–æ–Ω–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ */}
        <div className="absolute bottom-1 right-1">
          <Info className="w-3 h-3 text-gray-400" />
        </div>
      </div>
    );
  };

  if (!user) {
    return (
      <Card className="w-full max-w-4xl mx-auto">
        <CardContent className="p-6">
          <p className="text-center text-gray-600">
            –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–≤–∞–¥—Ä–∞—Ç—É –ü–∏—Ñ–∞–≥–æ—Ä–∞
          </p>
        </CardContent>
      </Card>
    );
  }

  return (
    <div className="w-full max-w-6xl mx-auto space-y-6">
      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
      <Card>
        <CardHeader>
          <CardTitle className="text-2xl text-center">‚≠ê –ö–≤–∞–¥—Ä–∞—Ç –ü–∏—Ñ–∞–≥–æ—Ä–∞ - –ú–∞—Ç—Ä–∏—Ü–∞ —ç–Ω–µ—Ä–≥–∏–π</CardTitle>
          <CardDescription className="text-center">
            –í–µ–¥–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π –ø–æ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è: {user.birth_date}
          </CardDescription>
        </CardHeader>
      </Card>

      {loading && (
        <Card>
          <CardContent className="p-6">
            <div className="text-center">
              <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"></div>
              <p className="mt-2 text-gray-600">–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É —ç–Ω–µ—Ä–≥–∏–π...</p>
            </div>
          </CardContent>
        </Card>
      )}

      {error && (
        <Card>
          <CardContent className="p-6">
            <div className="text-center text-red-600">
              <p>{error}</p>
              <Button onClick={fetchAnalysis} className="mt-2">
                –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
              </Button>
            </div>
          </CardContent>
        </Card>
      )}

      {analysis && (
        <>
          {/* –û—Å–Ω–æ–≤–Ω—ã–µ —á–∏—Å–ª–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ */}
          <Card>
            <CardHeader>
              <CardTitle>üî¢ –û—Å–Ω–æ–≤–Ω—ã–µ —á–∏—Å–ª–∞ –ª–∏—á–Ω–æ—Å—Ç–∏</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4">
                <div className="text-center p-2 md:p-3 bg-orange-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-orange-600">
                    {analysis.enhanced_square?.life_path}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏</div>
                </div>
                <div className="text-center p-2 md:p-3 bg-blue-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-blue-600">
                    {analysis.enhanced_square?.destiny}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ —Å—É–¥—å–±—ã</div>
                </div>
                <div className="text-center p-2 md:p-3 bg-green-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-green-600">
                    {analysis.enhanced_square?.soul}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ –¥—É—à–∏</div>
                </div>
                <div className="text-center p-2 md:p-3 bg-purple-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-purple-600">
                    {analysis.enhanced_square?.mind}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ —É–º–∞ (–ß–£)</div>
                </div>
                <div className="text-center p-2 md:p-3 bg-pink-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-pink-600">
                    {analysis.enhanced_square?.personality}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ –ª–∏—á–Ω–æ—Å—Ç–∏ (–ß–ú)</div>
                </div>
                <div className="text-center p-2 md:p-3 bg-yellow-50 rounded-lg">
                  <div className="text-xl md:text-2xl font-bold text-yellow-600">
                    {analysis.enhanced_square?.power}
                  </div>
                  <div className="text-xs md:text-sm text-gray-600">–ß–∏—Å–ª–æ —Å–∏–ª—ã (–ü–ß)</div>
                </div>
              </div>
            </CardContent>
          </Card>

          {/* –ö–≤–∞–¥—Ä–∞—Ç –ü–∏—Ñ–∞–≥–æ—Ä–∞ */}
          <Card>
            <CardHeader>
              <CardTitle>üî• –ú–∞—Ç—Ä–∏—Ü–∞ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π</CardTitle>
              <CardDescription>
                –ö–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–Ω–µ—Ç—É —Å –µ—ë —ç–Ω–µ—Ä–≥–∏—è–º–∏ –ø–æ –≤–∞—à–µ–π –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è
              </CardDescription>
            </CardHeader>
            <CardContent>
              {/* –ö–≤–∞–¥—Ä–∞—Ç 3x3 */}
              <div className="pythagorean-mobile">
                <div className="grid grid-cols-3 gap-2 md:gap-3 max-w-xs md:max-w-md mx-auto mb-6">
                  {[0, 1, 2].map(row =>
                    [0, 1, 2].map(col => renderSquareCell(null, row, col))
                  )}
                </div>
              </div>

              {/* –°—É–º–º—ã –ª–∏–Ω–∏–π */}
              <div className="mt-6 space-y-4">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="bg-red-50 p-4 rounded-lg">
                    <h4 className="font-semibold text-red-700 mb-2">–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å—Ñ–µ—Ä–∞)</h4>
                    <div className="space-y-1">
                      {analysis.enhanced_square?.horizontal_sums?.map((sum, idx) => (
                        <div 
                          key={idx} 
                          className="text-sm cursor-pointer hover:bg-red-100 p-1 rounded transition-colors"
                          onClick={() => setSelectedSum({type: 'horizontal', index: idx, value: sum})}
                        >
                          –õ–∏–Ω–∏—è {idx + 1}: <span className="font-semibold">{sum} –ø–ª–∞–Ω–µ—Ç</span>
                          <Info className="inline w-3 h-3 ml-1 text-red-400" />
                        </div>
                      ))}
                    </div>
                  </div>

                  <div className="bg-blue-50 p-4 rounded-lg">
                    <h4 className="font-semibold text-blue-700 mb-2">–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (–î—É—Ö–æ–≤–Ω–∞—è —Å—Ñ–µ—Ä–∞)</h4>
                    <div className="space-y-1">
                      {analysis.enhanced_square?.vertical_sums?.map((sum, idx) => (
                        <div 
                          key={idx} 
                          className="text-sm cursor-pointer hover:bg-blue-100 p-1 rounded transition-colors"
                          onClick={() => setSelectedSum({type: 'vertical', index: idx, value: sum})}
                        >
                          –õ–∏–Ω–∏—è {idx + 1}: <span className="font-semibold">{sum} –ø–ª–∞–Ω–µ—Ç</span>
                          <Info className="inline w-3 h-3 ml-1 text-blue-400" />
                        </div>
                      ))}
                    </div>
                  </div>

                  <div className="bg-purple-50 p-4 rounded-lg">
                    <h4 className="font-semibold text-purple-700 mb-2">–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (–ë–∞–ª–∞–Ω—Å)</h4>
                    <div className="space-y-1">
                      {analysis.enhanced_square?.diagonal_sums?.map((sum, idx) => (
                        <div 
                          key={idx} 
                          className="text-sm cursor-pointer hover:bg-purple-100 p-1 rounded transition-colors"
                          onClick={() => setSelectedSum({type: 'diagonal', index: idx, value: sum})}
                        >
                          –î–∏–∞–≥–æ–Ω–∞–ª—å {idx + 1}: <span className="font-semibold">{sum} –ø–ª–∞–Ω–µ—Ç</span>
                          <Info className="inline w-3 h-3 ml-1 text-purple-400" />
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            </CardContent>
          </Card>

          {/* –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–µ—Ç */}
          <Card>
            <CardHeader>
              <CardTitle>üåü –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                {Object.entries(analysis.enhanced_square?.planet_positions || {}).map(([digit, info]) => (
                  <div
                    key={digit}
                    className="p-4 rounded-lg border-2"
                    style={{ 
                      backgroundColor: planetColors[digit] + '10', 
                      borderColor: planetColors[digit] + '60'
                    }}
                  >
                    <div className="flex items-center justify-between mb-2">
                      <h4 className="font-semibold" style={{ color: planetColors[digit] }}>
                        {info.name}
                      </h4>
                      <div 
                        className="w-4 h-4 rounded-full" 
                        style={{ backgroundColor: planetColors[digit] }}
                      />
                    </div>
                    <div className="text-sm text-gray-600 mb-2">
                      <strong>–°—Ñ–µ—Ä–∞ –≤–ª–∏—è–Ω–∏—è:</strong> {info.sphere}
                    </div>
                    <div className="text-sm mb-2">
                      <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–Ω–µ—Ä–≥–∏–π:</strong> {info.count || 0}
                    </div>
                    <div className="text-sm mb-2">
                      <strong>–°–∏–ª–∞:</strong> 
                      <span className={`ml-1 ${
                        info.strength === '—Å–∏–ª—å–Ω–∞—è' ? 'text-green-600' :
                        info.strength === '–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è' ? 'text-yellow-600' :
                        info.strength === '—Å–ª–∞–±–∞—è' ? 'text-red-600' :
                        'text-gray-500'
                      }`}>
                        {info.strength}
                      </span>
                    </div>
                    {info.recommendations && (
                      <div className="text-xs bg-white bg-opacity-50 p-2 rounded mt-2">
                        <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong>
                        <ul className="list-disc list-inside mt-1">
                          {info.recommendations.slice(0, 2).map((rec, idx) => (
                            <li key={idx}>{rec}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                  </div>
                ))}
              </div>
            </CardContent>
          </Card>

          {/* –î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞ */}
          {analysis.enhanced_square?.calculation_details && (
            <Card>
              <CardHeader>
                <CardTitle>üìä –î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="text-sm text-gray-600 space-y-2">
                  <div><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong> {analysis.enhanced_square.calculation_details.birth_date}</div>
                  <div><strong>–†–∞–±–æ—á–∏–µ —Ü–∏—Ñ—Ä—ã:</strong> {analysis.enhanced_square.calculation_details.birth_digits?.join(', ')}</div>
                  <div><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞:</strong></div>
                  <div className="ml-4">
                    <div>1-–µ —á–∏—Å–ª–æ: {analysis.enhanced_square.calculation_details.additional_numbers?.first}</div>
                    <div>2-–µ —á–∏—Å–ª–æ: {analysis.enhanced_square.calculation_details.additional_numbers?.second}</div>
                    <div>3-–µ —á–∏—Å–ª–æ: {analysis.enhanced_square.calculation_details.additional_numbers?.third}</div>
                    <div>4-–µ —á–∏—Å–ª–æ: {analysis.enhanced_square.calculation_details.additional_numbers?.fourth}</div>
                  </div>
                  <div><strong>–°–∏—Å—Ç–µ–º–∞:</strong> {analysis.enhanced_square?.method}</div>
                </div>
              </CardContent>
            </Card>
          )}
        </>
      )}

      {/* Modal –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π —è—á–µ–µ–∫ */}
      {selectedCell && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div className="sticky top-0 bg-white border-b p-4 flex justify-between items-center">
              <h3 className="text-xl font-bold flex items-center">
                <div 
                  className="w-6 h-6 rounded mr-3"
                  style={{ backgroundColor: planetColors[selectedCell] }}
                />
                {detailedInterpretations[selectedCell]?.name}
              </h3>
              <button 
                onClick={() => setSelectedCell(null)}
                className="text-gray-500 hover:text-gray-700"
              >
                <X className="w-6 h-6" />
              </button>
            </div>
            
            <div className="p-6 space-y-6">
              {/* –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ */}
              <div>
                <h4 className="text-lg font-semibold mb-3 text-gray-800">üåü –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞</h4>
                <div className="flex flex-wrap gap-2">
                  {detailedInterpretations[selectedCell]?.qualities.map((quality, idx) => (
                    <span 
                      key={idx}
                      className="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm"
                    >
                      {quality}
                    </span>
                  ))}
                </div>
              </div>

              {/* –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã */}
              <div>
                <h4 className="text-lg font-semibold mb-3 text-green-700">‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h4>
                <ul className="space-y-2">
                  {detailedInterpretations[selectedCell]?.strongPoints.map((point, idx) => (
                    <li key={idx} className="flex items-start">
                      <span className="text-green-500 mr-2 mt-1">‚Ä¢</span>
                      <span className="text-gray-700">{point}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã */}
              <div>
                <h4 className="text-lg font-semibold mb-3 text-orange-700">‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è –≤–Ω–∏–º–∞–Ω–∏—è</h4>
                <ul className="space-y-2">
                  {detailedInterpretations[selectedCell]?.weakPoints.map((point, idx) => (
                    <li key={idx} className="flex items-start">
                      <span className="text-orange-500 mr-2 mt-1">‚Ä¢</span>
                      <span className="text-gray-700">{point}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ */}
              <div>
                <h4 className="text-lg font-semibold mb-3 text-purple-700">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è</h4>
                <ul className="space-y-2">
                  {detailedInterpretations[selectedCell]?.recommendations.map((rec, idx) => (
                    <li key={idx} className="flex items-start">
                      <span className="text-purple-500 mr-2 mt-1">‚Ä¢</span>
                      <span className="text-gray-700">{rec}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* –ü–æ–¥—Ö–æ–¥—è—â–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ */}
              <div>
                <h4 className="text-lg font-semibold mb-3 text-indigo-700">üéØ –ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ñ–µ—Ä—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h4>
                <div className="flex flex-wrap gap-2">
                  {detailedInterpretations[selectedCell]?.professions.map((profession, idx) => (
                    <span 
                      key={idx}
                      className="px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm"
                    >
                      {profession}
                    </span>
                  ))}
                </div>
              </div>

              {/* –ó–Ω–∞—á–µ–Ω–∏–µ –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–∏ */}
              <div className="bg-gray-50 p-4 rounded-lg">
                <h4 className="text-lg font-semibold mb-2 text-gray-700">üì≠ –ï—Å–ª–∏ —è—á–µ–π–∫–∞ –ø—É—Å—Ç–∞—è</h4>
                <p className="text-gray-600">{detailedInterpretations[selectedCell]?.challenges}</p>
              </div>

              {/* –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */}
              {analysis?.enhanced_square?.planet_positions?.[selectedCell] && (
                <div className="bg-blue-50 p-4 rounded-lg">
                  <h4 className="text-lg font-semibold mb-2 text-blue-700">üìä –í–∞—à–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</h4>
                  <div className="space-y-2">
                    <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–Ω–µ—Ä–≥–∏–π:</strong> {analysis.enhanced_square.planet_positions[selectedCell].count || 0}</p>
                    <p><strong>–°–∏–ª–∞ –ø–ª–∞–Ω–µ—Ç—ã:</strong> 
                      <span className={`ml-2 ${
                        analysis.enhanced_square.planet_positions[selectedCell].strength === '—Å–∏–ª—å–Ω–∞—è' ? 'text-green-600' :
                        analysis.enhanced_square.planet_positions[selectedCell].strength === '–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è' ? 'text-yellow-600' :
                        analysis.enhanced_square.planet_positions[selectedCell].strength === '—Å–ª–∞–±–∞—è' ? 'text-red-600' :
                        'text-gray-500'
                      }`}>
                        {analysis.enhanced_square.planet_positions[selectedCell].strength}
                      </span>
                    </p>
                    <p><strong>–ß–∏—Å–ª–∞ –≤ —è—á–µ–π–∫–µ:</strong> {analysis.enhanced_square.square?.[Math.floor((parseInt(selectedCell) - 1) / 3)]?.[((parseInt(selectedCell) - 1) % 3)] || '–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç'}</p>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      )}

      {/* Modal –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π —Å—É–º–º */}
      {selectedSum && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg max-w-xl w-full max-h-[90vh] overflow-y-auto">
            <div className="sticky top-0 bg-white border-b p-4 flex justify-between items-center">
              <h3 className="text-xl font-bold">
                {sumInterpretations[selectedSum.type]?.[selectedSum.index]?.title}
              </h3>
              <button 
                onClick={() => setSelectedSum(null)}
                className="text-gray-500 hover:text-gray-700"
              >
                <X className="w-6 h-6" />
              </button>
            </div>
            
            <div className="p-6 space-y-4">
              <div className="bg-blue-50 p-4 rounded-lg">
                <h4 className="font-semibold text-blue-700 mb-2">–û–ø–∏—Å–∞–Ω–∏–µ</h4>
                <p className="text-gray-700">
                  {sumInterpretations[selectedSum.type]?.[selectedSum.index]?.description}
                </p>
              </div>

              <div className="bg-green-50 p-4 rounded-lg">
                <h4 className="font-semibold text-green-700 mb-2">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {selectedSum.value}</h4>
                <p className="text-gray-700">
                  {sumInterpretations[selectedSum.type]?.[selectedSum.index]?.meanings?.[selectedSum.value] || 
                   '–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞'}
                </p>
              </div>

              {/* –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è */}
              <div>
                <h4 className="font-semibold text-gray-700 mb-3">üìö –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</h4>
                <div className="space-y-2">
                  {Object.entries(sumInterpretations[selectedSum.type]?.[selectedSum.index]?.meanings || {}).map(([value, meaning]) => (
                    <div 
                      key={value}
                      className={`p-3 rounded-lg border-l-4 ${
                        parseInt(value) === selectedSum.value 
                          ? 'bg-yellow-50 border-yellow-400' 
                          : 'bg-gray-50 border-gray-300'
                      }`}
                    >
                      <div className="font-semibold text-gray-800">{value} –ø–ª–∞–Ω–µ—Ç:</div>
                      <div className="text-gray-600 text-sm mt-1">{meaning}</div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default EnhancedPythagoreanSquare;