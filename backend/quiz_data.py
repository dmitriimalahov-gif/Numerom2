"""Quiz questions and answers for numerology assessment"""

NUMEROLOGY_QUIZ = {
    "title": "Нумерологический тест самопознания",
    "description": "Ответьте на вопросы, чтобы получить персональные рекомендации",
    "questions": [
        {
            "id": 1,
            "question": "Какой цвет вам больше всего нравится?",
            "options": [
                {"text": "Красный", "value": 1},
                {"text": "Оранжевый", "value": 2},
                {"text": "Жёлтый", "value": 3},
                {"text": "Зелёный", "value": 4},
                {"text": "Голубой", "value": 5},
                {"text": "Синий", "value": 6},
                {"text": "Фиолетовый", "value": 7},
                {"text": "Чёрный", "value": 8},
                {"text": "Белый", "value": 9}
            ]
        },
        {
            "id": 2,
            "question": "Какое время дня для вас наиболее продуктивно?",
            "options": [
                {"text": "Раннее утро (5-7 часов)", "value": 1},
                {"text": "Утро (7-9 часов)", "value": 2},
                {"text": "Поздние утренние часы (9-11)", "value": 3},
                {"text": "Полдень (11-13 часов)", "value": 4},
                {"text": "После обеда (13-15 часов)", "value": 5},
                {"text": "Вечер (15-17 часов)", "value": 6},
                {"text": "Поздний вечер (17-19 часов)", "value": 7},
                {"text": "Ночь (19-21 час)", "value": 8},
                {"text": "Поздняя ночь (21-23 часа)", "value": 9}
            ]
        },
        {
            "id": 3,
            "question": "Как вы предпочитаете принимать решения?",
            "options": [
                {"text": "Быстро и решительно", "value": 1},
                {"text": "После консультации с другими", "value": 2},
                {"text": "Творчески и интуитивно", "value": 3},
                {"text": "Систематично и планомерно", "value": 4},
                {"text": "Изучив все варианты", "value": 5},
                {"text": "Основываясь на опыте", "value": 6},
                {"text": "Медитативно и вдумчиво", "value": 7},
                {"text": "Практично и эффективно", "value": 8},
                {"text": "С учётом блага для всех", "value": 9}
            ]
        },
        {
            "id": 4,
            "question": "Что для вас наиболее важно в жизни?",
            "options": [
                {"text": "Лидерство и успех", "value": 1},
                {"text": "Гармония и партнёрство", "value": 2},
                {"text": "Творчество и самовыражение", "value": 3},
                {"text": "Стабильность и порядок", "value": 4},
                {"text": "Свобода и приключения", "value": 5},
                {"text": "Семья и ответственность", "value": 6},
                {"text": "Знания и духовность", "value": 7},
                {"text": "Материальный достаток", "value": 8},
                {"text": "Служение человечеству", "value": 9}
            ]
        },
        {
            "id": 5,
            "question": "Как вы справляетесь со стрессом?",
            "options": [
                {"text": "Действую немедленно", "value": 1},
                {"text": "Ищу поддержку у близких", "value": 2},
                {"text": "Занимаюсь творчеством", "value": 3},
                {"text": "Планирую решение пошагово", "value": 4},
                {"text": "Меняю обстановку", "value": 5},
                {"text": "Помогаю другим", "value": 6},
                {"text": "Медитирую или размышляю", "value": 7},
                {"text": "Концентрируюсь на работе", "value": 8},
                {"text": "Ищу смысл в происходящем", "value": 9}
            ]
        },
        {
            "id": 6,
            "question": "Какой стиль общения вам ближе?",
            "options": [
                {"text": "Прямой и уверенный", "value": 1},
                {"text": "Мягкий и дипломатичный", "value": 2},
                {"text": "Яркий и эмоциональный", "value": 3},
                {"text": "Чёткий и структурированный", "value": 4},
                {"text": "Живой и разнообразный", "value": 5},
                {"text": "Заботливый и поддерживающий", "value": 6},
                {"text": "Глубокий и вдумчивый", "value": 7},
                {"text": "Деловой и конкретный", "value": 8},
                {"text": "Вдохновляющий и мудрый", "value": 9}
            ]
        },
        {
            "id": 7,
            "question": "В какой среде вы чувствуете себя комфортнее?",
            "options": [
                {"text": "В центре внимания", "value": 1},
                {"text": "В тесном кругу друзей", "value": 2},
                {"text": "В творческой атмосфере", "value": 3},
                {"text": "В организованном пространстве", "value": 4},
                {"text": "В путешествии или новом месте", "value": 5},
                {"text": "Дома с семьёй", "value": 6},
                {"text": "В тихом уединённом месте", "value": 7},
                {"text": "В деловой обстановке", "value": 8},
                {"text": "Среди единомышленников", "value": 9}
            ]
        },
        {
            "id": 8,
            "question": "Какой вид деятельности вас больше привлекает?",
            "options": [
                {"text": "Руководство проектами", "value": 1},
                {"text": "Работа в команде", "value": 2},
                {"text": "Художественное творчество", "value": 3},
                {"text": "Планирование и анализ", "value": 4},
                {"text": "Исследования и открытия", "value": 5},
                {"text": "Обучение и воспитание", "value": 6},
                {"text": "Изучение тайн и загадок", "value": 7},
                {"text": "Бизнес и финансы", "value": 8},
                {"text": "Благотворительность и помощь", "value": 9}
            ]
        },
        {
            "id": 9,
            "question": "Как вы относитесь к переменам?",
            "options": [
                {"text": "Инициирую их сам", "value": 1},
                {"text": "Адаптируюсь постепенно", "value": 2},
                {"text": "Вижу в них возможности", "value": 3},
                {"text": "Предпочитаю стабильность", "value": 4},
                {"text": "Встречаю с энтузиазмом", "value": 5},
                {"text": "Беспокоюсь о последствиях", "value": 6},
                {"text": "Анализирую глубинный смысл", "value": 7},
                {"text": "Оцениваю выгоду", "value": 8},
                {"text": "Принимаю как часть судьбы", "value": 9}
            ]
        },
        {
            "id": 10,
            "question": "Что мотивирует вас больше всего?",
            "options": [
                {"text": "Достижение целей", "value": 1},
                {"text": "Гармоничные отношения", "value": 2},
                {"text": "Самовыражение", "value": 3},
                {"text": "Создание основы для будущего", "value": 4},
                {"text": "Новые впечатления", "value": 5},
                {"text": "Забота о близких", "value": 6},
                {"text": "Поиск истины", "value": 7},
                {"text": "Материальная независимость", "value": 8},
                {"text": "Служение высшей цели", "value": 9}
            ]
        }
    ]
}

def calculate_quiz_results(answers: list) -> dict:
    """Calculate quiz results and provide recommendations"""
    if not answers or len(answers) != 10:
        raise ValueError("All 10 questions must be answered")
    
    # Count frequency of each number
    frequencies = {}
    total_score = 0
    
    for answer in answers:
        value = answer.get('value', 0)
        frequencies[value] = frequencies.get(value, 0) + 1
        total_score += value
    
    # Find dominant number
    dominant_number = max(frequencies, key=frequencies.get)
    
    # Generate recommendations based on dominant number
    recommendations = get_recommendations(dominant_number)
    
    return {
        "dominant_number": dominant_number,
        "frequencies": frequencies,
        "total_score": total_score,
        "recommendations": recommendations,
        "personality_type": get_personality_type(dominant_number)
    }

def get_personality_type(number: int) -> str:
    """Get personality type description"""
    types = {
        1: "Лидер - Независимый и целеустремленный",
        2: "Дипломат - Гармоничный и сотрудничающий",
        3: "Творец - Креативный и вдохновляющий",
        4: "Строитель - Практичный и надежный",
        5: "Исследователь - Свободолюбивый и любознательный",
        6: "Воспитатель - Заботливый и ответственный",
        7: "Мистик - Глубокий и интуитивный",
        8: "Материалист - Амбициозный и практичный",
        9: "Гуманист - Сострадательный и мудрый"
    }
    return types.get(number, "Неопределенный тип")

def get_recommendations(number: int) -> list:
    """Get personalized recommendations based on dominant number"""
    recommendations = {
        1: [
            "Развивайте лидерские качества через принятие ответственности",
            "Учитесь делегировать и работать в команде",
            "Направьте амбиции на созидательные цели",
            "Практикуйте терпимость к чужим мнениям"
        ],
        2: [
            "Развивайте навыки посредничества и дипломатии",
            "Учитесь отстаивать свои интересы мягко, но твердо",
            "Найдите баланс между служением другим и заботой о себе",
            "Практикуйте эмпатию в отношениях"
        ],
        3: [
            "Найдите творческие способы самовыражения",
            "Развивайте коммуникативные навыки",
            "Учитесь структурировать свои идеи",
            "Практикуйте дисциплину в творческих проектах"
        ],
        4: [
            "Используйте свою надежность для построения стабильной основы",
            "Учитесь быть более гибкими в изменяющихся обстоятельствах",
            "Развивайте организаторские способности",
            "Практикуйте терпение в достижении долгосрочных целей"
        ],
        5: [
            "Направьте любознательность на изучение нового",
            "Учитесь завершать начатые проекты",
            "Развивайте адаптивность к изменениям",
            "Практикуйте свободу выбора ответственно"
        ],
        6: [
            "Используйте природную заботливость для помощи другим",
            "Учитесь устанавливать здоровые границы",
            "Развивайте чувство прекрасного",
            "Практикуйте самопрощение и принятие"
        ],
        7: [
            "Развивайте интуитивные способности через медитацию",
            "Учитесь делиться своими знаниями с другими",
            "Найдите баланс между одиночеством и общением",
            "Практикуйте доверие к внутреннему голосу"
        ],
        8: [
            "Направьте амбиции на материальное благополучие",
            "Учитесь использовать власть мудро и справедливо",
            "Развивайте практические навыки управления",
            "Практикуйте щедрость и благотворительность"
        ],
        9: [
            "Используйте мудрость для служения человечеству",
            "Учитесь прощать и отпускать прошлое",
            "Развивайте универсальную любовь и сострадание",
            "Практикуйте безусловное принятие разнообразия"
        ]
    }
    return recommendations.get(number, ["Продолжайте самопознание и развитие"])