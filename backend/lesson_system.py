# –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–∫–æ–≤ NumerOM —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
from typing import Dict, List, Optional, Any
from pydantic import BaseModel
from datetime import datetime, timedelta
import json
import uuid

class Challenge(BaseModel):
    id: str
    title: str
    description: str
    duration_days: int
    daily_tasks: List[Dict[str, Any]]
    completion_tracking: Dict[str, bool] = {}

class Quiz(BaseModel):
    id: str
    title: str
    questions: List[Dict[str, Any]]
    correct_answers: List[str]
    explanations: List[str]

class HabitTracker(BaseModel):
    id: str
    user_id: str
    planet_habits: Dict[str, List[Dict[str, Any]]] = {}
    daily_completions: Dict[str, Dict[str, bool]] = {}

class Exercise(BaseModel):
    id: str
    title: str
    type: str  # reflection, calculation, meditation, practical
    content: str
    instructions: List[str]
    expected_outcome: str

class Lesson(BaseModel):
    id: str
    title: str
    module: str
    content: Dict[str, Any]
    video_path: Optional[str] = None
    pdf_path: Optional[str] = None  # –û—Å–Ω–æ–≤–Ω–æ–π PDF (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
    additional_pdfs: List[Dict[str, str]] = []  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ PDF —Ñ–∞–π–ª—ã [{"file_id": "...", "filename": "...", "title": "..."}]
    exercises: List[Exercise] = []
    quiz: Optional[Quiz] = None
    challenges: List[Challenge] = []
    habit_tracker: Optional[HabitTracker] = None
    points_required: int = 0

class LessonSystem:
    def __init__(self):
        self.lessons = {}
        self.initialize_first_lesson()
    
    def initialize_first_lesson(self):
        """–°–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ NumerOM –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏"""
        
        # –ö–≤–∏–∑ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è
        intro_quiz = Quiz(
            id="quiz_intro_1",
            title="–í–≤–µ–¥–µ–Ω–∏–µ –≤ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—é",
            questions=[
                {
                    "question": "–ß—Ç–æ –∏–∑—É—á–∞–µ—Ç –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—è?",
                    "options": [
                        "a) –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ —á–∏—Å–µ–ª",
                        "b) –ú–∞–≥–∏—é –∫–∞–º–Ω–µ–π", 
                        "c) –ì–∞–¥–∞–Ω–∏–µ –ø–æ –∫–∞—Ä—Ç–∞–º",
                        "d) –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—é"
                    ]
                },
                {
                    "question": "–ö–∞–∫–æ–π –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—è?",
                    "options": [
                        "a) –ì–æ—Ä–æ—Å–∫–æ–ø",
                        "b) –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",
                        "c) –õ–∏–Ω–∏–∏ —Ä—É–∫–∏",
                        "d) –ò–º—è —á–µ–ª–æ–≤–µ–∫–∞"
                    ]
                },
                {
                    "question": "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω '–ì—Ä–∞—Ö–∞' –≤ –≤–µ–¥–∏—á–µ—Å–∫–æ–π –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏?",
                    "options": [
                        "a) –ß–∏—Å–ª–æ —Å—É–¥—å–±—ã",
                        "b) –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è",
                        "c) –ö–≤–∞–¥—Ä–∞—Ç –ü–∏—Ñ–∞–≥–æ—Ä–∞",
                        "d) –ö–∞—Ä–º–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ"
                    ]
                },
                {
                    "question": "–°–∫–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–ª–∞–Ω–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏?",
                    "options": [
                        "a) 7",
                        "b) 9",
                        "c) 12",
                        "d) 10"
                    ]
                },
                {
                    "question": "–ö–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∏—Å–ª—É 1?",
                    "options": [
                        "a) –õ—É–Ω–∞",
                        "b) –°–æ–ª–Ω—Ü–µ",
                        "c) –ú–∞—Ä—Å",
                        "d) –Æ–ø–∏—Ç–µ—Ä"
                    ]
                }
            ],
            correct_answers=["a", "b", "b", "b", "b"],
            explanations=[
                "–ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è –∏–∑—É—á–∞–µ—Ç —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ —á–∏—Å–µ–ª –Ω–∞ –∂–∏–∑–Ω—å —á–µ–ª–æ–≤–µ–∫–∞",
                "–û—Å–Ω–æ–≤–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–∞",
                "–ì—Ä–∞—Ö–∞ - —ç—Ç–æ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è, –≤–ª–∏—è—é—â–∞—è –Ω–∞ —á–∏—Å–ª–∞",
                "–í –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 9 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–ª–∞–Ω–µ—Ç –ø–ª—é—Å —á–∏—Å–ª–æ 0",
                "–ß–∏—Å–ª–æ 1 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –°–æ–ª–Ω—Ü—É (–°—É—Ä—å–µ) - —ç–Ω–µ—Ä–≥–∏–∏ –ª–∏–¥–µ—Ä—Å—Ç–≤–∞"
            ]
        )
        
        # –ß–µ–ª–ª–µ–Ω–¥–∂ –Ω–∞ —ç–Ω–µ—Ä–≥–∏—é –°–æ–ª–Ω—Ü–∞ (7 –¥–Ω–µ–π)
        sun_challenge = Challenge(
            id="challenge_sun_7days",
            title="–ß–µ–ª–ª–µ–Ω–¥–∂ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ –°—É—Ä—å–∏ (–°–æ–ª–Ω—Ü–µ)",
            description="7-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ –¥–ª—è —É—Å–∏–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –ª–∏–¥–µ—Ä—Å—Ç–≤–∞, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–∏–ª—ã –≤–æ–ª–∏",
            duration_days=7,
            daily_tasks=[
                {
                    "day": 1,
                    "title": "–û—Å–æ–∑–Ω–∞–Ω–∏–µ —Å–≤–æ–µ–π —Å–∏–ª—ã",
                    "tasks": [
                        "–ù–∞–ø–∏—à–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π",
                        "–û—Å–æ–∑–Ω–∞–π—Ç–µ, –≤ —á—ë–º –≤–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è —Å–∏–ª–∞",
                        "–ü—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞–π—Ç–µ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é: '–Ø ‚Äì –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–∏–ª—ã –∏ —Å–≤–µ—Ç–∞'"
                    ]
                },
                {
                    "day": 2,
                    "title": "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ –≤ –¥–µ–π—Å—Ç–≤–∏–∏",
                    "tasks": [
                        "–í–æ–∑—å–º–∏—Ç–µ –Ω–∞ —Å–µ–±—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –≤ –∫–∞–∫–æ–π-–ª–∏–±–æ —Å–∏—Ç—É–∞—Ü–∏–∏",
                        "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ä–µ—à–µ–Ω–∏—è—Ö", 
                        "–ü—Ä–∏–º–∏—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è"
                    ]
                },
                {
                    "day": 3,
                    "title": "–ü—Ä–æ–∫–∞—á–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏",
                    "tasks": [
                        "–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ—Å–∞–Ω–∫–æ–π - –¥–µ—Ä–∂–∏—Ç–µ —Å–ø–∏–Ω—É –ø—Ä—è–º–æ",
                        "–ì–æ–≤–æ—Ä–∏—Ç–µ —á—ë—Ç–∫–æ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –≥–ª–∞–∑–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫—É",
                        "–ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –æ—â—É—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø—Ä–∞–∫—Ç–∏–∫–∏"
                    ]
                },
                {
                    "day": 4,
                    "title": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–µ–π",
                    "tasks": [
                        "–ü—Ä–æ–≤–µ–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç –Ω–∞ —Å–æ–ª–Ω—Ü–µ —É—Ç—Ä–æ–º",
                        "–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π",
                        "–í–ø–∏—Ç—ã–≤–∞–π—Ç–µ —Å–æ–ª–Ω–µ—á–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ"
                    ]
                },
                {
                    "day": 5,
                    "title": "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ —Ä–µ–∂–∏–º",
                    "tasks": [
                        "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –æ–¥–Ω—É –ø–æ–ª–µ–∑–Ω—É—é –ø—Ä–∏–≤—ã—á–∫—É –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è",
                        "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ –µ—ë —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é",
                        "–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é"
                    ]
                },
                {
                    "day": 6,
                    "title": "–©–µ–¥—Ä–æ—Å—Ç—å –∏ –≤–µ–ª–∏–∫–æ–¥—É—à–∏–µ",
                    "tasks": [
                        "–°–æ–≤–µ—Ä—à–∏—Ç–µ –¥–æ–±—Ä—ã–π –ø–æ—Å—Ç—É–ø–æ–∫ –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è",
                        "–ü–æ–º–æ–≥–∏—Ç–µ –∫–æ–º—É-—Ç–æ –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –ø–æ–¥–∞—Ä–æ–∫",
                        "–ü—Ä–æ—è–≤–∏—Ç–µ –∑–∞–±–æ—Ç—É –æ –¥—Ä—É–≥–∏—Ö"
                    ]
                },
                {
                    "day": 7,
                    "title": "–ò—Ç–æ–≥–∏ –∏ –æ—Å–æ–∑–Ω–∞–Ω–∏–µ",
                    "tasks": [
                        "–ó–∞–ø–∏—à–∏—Ç–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ–¥–µ–ª—é –≤ –¥–Ω–µ–≤–Ω–∏–∫",
                        "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã",
                        "–†–µ—à–∏—Ç–µ, –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª—é—á–∏—Ç—å –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É"
                    ]
                }
            ]
        )
        
        # –¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ –¥–ª—è –°–æ–ª–Ω—Ü–∞
        sun_habit_tracker = HabitTracker(
            id="tracker_sun_habits",
            user_id="", # –ë—É–¥–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            planet_habits={
                "sun": [
                    {
                        "habit": "–£—Ç—Ä–µ–Ω–Ω—è—è –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—è –∏–ª–∏ –º–µ–¥–∏—Ç–∞—Ü–∏—è",
                        "description": "–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏"
                    },
                    {
                        "habit": "–û—Å–æ–∑–Ω–∞–Ω–∏–µ –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –∫–∞—á–µ—Å—Ç–≤",
                        "description": "–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –ª–∏–¥–µ—Ä—Å—Ç–≤–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è"
                    },
                    {
                        "habit": "–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã",
                        "description": "–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"
                    },
                    {
                        "habit": "–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å–∞–Ω–∫–∏ –∏ —Ä–µ—á–∏",
                        "description": "–£–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏ —á–µ—Ç–∫–∞—è —Ä–µ—á—å"
                    },
                    {
                        "habit": "–í–µ—á–µ—Ä–Ω–µ–µ –ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤",
                        "description": "–†–µ—Ñ–ª–µ–∫—Å–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –¥–Ω—è"
                    }
                ]
            }
        )
        
        # –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è
        exercises = [
            Exercise(
                id="ex_cosmic_ship",
                title="–ò—Å—Ç–æ—Ä–∏—è –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è",
                type="reflection",
                content="""
                –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å, –≥–¥–µ –∫–∞–∂–¥–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å:
                
                1. –°–û–õ–ù–¶–ï (1) - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–¥–µ–∏ –æ –∫–æ—Ä–∞–±–ª–µ, –ª–∏–¥–µ—Ä—Å—Ç–≤–æ, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
                2. –õ–£–ù–ê (2) - –æ–±—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É—é—Ç–∞, –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥–µ
                3. –Æ–ü–ò–¢–ï–† (3) - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –±–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
                4. –†–ê–•–£ (4) - –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç —Å–∏—Å—Ç–µ–º—ã, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏
                5. –ú–ï–†–ö–£–†–ò–ô (5) - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –ø–æ–∫–æ—Ä–µ–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
                6. –í–ï–ù–ï–†–ê (6) - –∫—Ä–∞—Å–æ—Ç–∞, –∫–æ–º—Ñ–æ—Ä—Ç, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, —ç—Å—Ç–µ—Ç–∏–∫–∞
                7. –ö–ï–¢–£ (7) - –ª–µ–≥–∫–æ—Å—Ç—å, —á—É–¥–µ—Å–∞, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –æ—Ç—Ä–µ—à–µ–Ω–Ω–æ—Å—Ç—å
                8. –°–ê–¢–£–†–ù (8) - –ø–æ—Ä—è–¥–æ–∫, –∫–æ–Ω—Ç—Ä–æ–ª—å, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞
                9. –ú–ê–†–° (9) - —Å–ø–æ—Ä—Ç, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –≤–æ–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                0. –ê–ù–£–ì–†–ê–•–ê - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞–∑–≤–∏—Ç–∏—è –∏–ª–∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
                """,
                instructions=[
                    "–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–ª–∞–Ω–µ—Ç—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ—Ä–∞–±–ª—è",
                    "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã —Ä–µ–∑–æ–Ω–∏—Ä—É—é—Ç —Å –≤–∞–º–∏ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ",
                    "–ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –æ—â—É—â–µ–Ω–∏—è –æ—Ç –∫–∞–∂–¥–æ–π —ç–Ω–µ—Ä–≥–∏–∏",
                    "–ü–æ–¥—É–º–∞–π—Ç–µ, –∫–∞–∫ —ç—Ç–∏ —ç–Ω–µ—Ä–≥–∏–∏ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏"
                ],
                expected_outcome="–ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π –ø–ª–∞–Ω–µ—Ç –∏ –∏—Ö –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ª–∏—á–Ω–æ—Å—Ç—å"
            ),
            
            Exercise(
                id="ex_birth_date_analysis",
                title="–ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è",
                type="calculation",
                content="""
                –ù–∞—É—á–∏—Ç–µ—Å—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —á–∏—Å–ª–∞ –∏–∑ —Å–≤–æ–µ–π –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è:
                
                –ü—Ä–∏–º–µ—Ä: 15.08.1985
                
                –ß–∏—Å–ª–æ –î—É—à–∏ = –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è = 15 ‚Üí 1+5 = 6
                –ß–∏—Å–ª–æ –°—É–¥—å–±—ã = –≤—Å—è –¥–∞—Ç–∞ = 1+5+0+8+1+9+8+5 = 37 ‚Üí 3+7 = 1
                –ß–∏—Å–ª–æ –£–º–∞ = –º–µ—Å—è—Ü = 08 ‚Üí 8
                """,
                instructions=[
                    "–ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è",
                    "–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —á–∏—Å–ª–æ –¥—É—à–∏ (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è)",
                    "–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —á–∏—Å–ª–æ —Å—É–¥—å–±—ã (–≤—Å—è –¥–∞—Ç–∞)",
                    "–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —á–∏—Å–ª–æ —É–º–∞ (–º–µ—Å—è—Ü)",
                    "–ù–∞–π–¥–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–∂–¥–æ–≥–æ —á–∏—Å–ª–∞ —Å –ø–ª–∞–Ω–µ—Ç–æ–π"
                ],
                expected_outcome="–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª"
            ),
            
            Exercise(
                id="ex_intention_setting",  
                title="–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –Ω–∞ –∫—É—Ä—Å",
                type="reflection",
                content="""
                –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ —á–µ—Ç–∫–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏.
                
                –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è:
                - –ß–µ–≥–æ —è —Ö–æ—á—É –¥–æ—Å—Ç–∏—á—å, –∏–∑—É—á–∞—è –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—é?
                - –ö–∞–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏ –∂–∏–∑–Ω–∏ —Ö–æ—á—É —É–ª—É—á—à–∏—Ç—å?
                - –ö–∞–∫ —è –±—É–¥—É –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è?
                - –ì–æ—Ç–æ–≤ –ª–∏ —è —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è?
                """,
                instructions=[
                    "–ù–∞–π–¥–∏—Ç–µ —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è",
                    "–û—Ç–≤–µ—Ç—å—Ç–µ —á–µ—Å—Ç–Ω–æ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã",
                    "–ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏",
                    "–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ–º –≤ —á–∞—Ç–µ –≥—Ä—É–ø–ø—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é)"
                ],
                expected_outcome="–ß–µ—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ü–µ–ª–µ–π –∏–∑—É—á–µ–Ω–∏—è –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏"
            ),
            
            Exercise(
                id="ex_energy_recognition",
                title="–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–≤–æ–µ–π —ç–Ω–µ—Ä–≥–∏–∏",
                type="reflection", 
                content="""
                –ü–æ—Å–ª–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å —ç–Ω–µ—Ä–≥–∏—è–º–∏ –ø–ª–∞–Ω–µ—Ç –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å:
                "–Ø —Å–µ–±—è —É–∑–Ω–∞–ª –≤ —Ü–∏—Ñ—Ä–µ X (–ø–ª–∞–Ω–µ—Ç–µ X), –ø–æ—Ç–æ–º—É —á—Ç–æ..."
                
                –≠–Ω–µ—Ä–≥–∏–∏ –ø–ª–∞–Ω–µ—Ç:
                1 (–°–æ–ª–Ω—Ü–µ) - –ª–∏–¥–µ—Ä—Å—Ç–≤–æ, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
                2 (–õ—É–Ω–∞) - —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∏–Ω—Ç—É–∏—Ü–∏—è, –∑–∞–±–æ—Ç–∞
                3 (–Æ–ø–∏—Ç–µ—Ä) - –º—É–¥—Ä–æ—Å—Ç—å, –æ–±—É—á–µ–Ω–∏–µ, –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ  
                4 (–†–∞—Ö—É) - –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏, –ø–µ—Ä–µ–º–µ–Ω—ã, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
                5 (–ú–µ—Ä–∫—É—Ä–∏–π) - –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è, –ª–æ–≥–∏–∫–∞, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
                6 (–í–µ–Ω–µ—Ä–∞) - –∫—Ä–∞—Å–æ—Ç–∞, –≥–∞—Ä–º–æ–Ω–∏—è, –æ—Ç–Ω–æ—à–µ–Ω–∏—è
                7 (–ö–µ—Ç—É) - –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –∏–Ω—Ç—É–∏—Ü–∏—è, –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ—Å—Ç—å
                8 (–°–∞—Ç—É—Ä–Ω) - –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                9 (–ú–∞—Ä—Å) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –∑–∞—â–∏—Ç–∞
                """,
                instructions=[
                    "–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥–æ–π –ø–ª–∞–Ω–µ—Ç—ã",
                    "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ 2-3 –ø–ª–∞–Ω–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ä–µ–∑–æ–Ω–∏—Ä—É—é—Ç",
                    "–û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —ç–Ω–µ—Ä–≥–∏–∏ –≤–∞–º –±–ª–∏–∑–∫–∏",
                    "–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏"
                ],
                expected_outcome="–û—Å–æ–∑–Ω–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏—Ö –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π"
            )
        ]
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–∫–∞
        first_lesson = Lesson(
            id="lesson_numerom_intro",
            title="–í–≤–µ–¥–µ–Ω–∏–µ –≤ NumerOM: –ò—Å—Ç–æ—Ä–∏—è –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è –∏ –æ—Å–Ω–æ–≤—ã –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏",
            module="–ú–æ–¥—É–ª—å 1: –û—Å–Ω–æ–≤—ã",
            content={
                "theory": {
                    "what_is_numerology": """
                    –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è - —ç—Ç–æ –¥—Ä–µ–≤–Ω—è—è –Ω–∞—É–∫–∞ –æ –≤–ª–∏—è–Ω–∏–∏ —á–∏—Å–µ–ª –Ω–∞ —Å—É–¥—å–±—É –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä —á–µ–ª–æ–≤–µ–∫–∞.
                    –í –≤–µ–¥–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–¥–∏—Ü–∏–∏ —á–∏—Å–ª–∞ —Å–≤—è–∑–∞–Ω—ã —Å –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–º–∏ —ç–Ω–µ—Ä–≥–∏—è–º–∏ (–ì—Ä–∞—Ö–∞), 
                    –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –Ω–∞—à–∏ –∫–∞—á–µ—Å—Ç–≤–∞, —Ç–∞–ª–∞–Ω—Ç—ã –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã.
                    """,
                    
                    "cosmic_ship_story": """
                    –ò—Å—Ç–æ—Ä–∏—è –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —ç–Ω–µ—Ä–≥–∏–∏ —á–∏—Å–µ–ª —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∫–æ–º–∞–Ω–¥–µ:
                    
                    üåü –°–û–õ–ù–¶–ï (1) - –°–æ–∑–¥–∞—Ç–µ–ª—å –∏–¥–µ–∏ –∫–æ—Ä–∞–±–ª—è, –ª–∏–¥–µ—Ä —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É
                    üåô –õ–£–ù–ê (2) - –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É—é—Ç, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–º–∞—Ç, –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è
                    ü™ê –Æ–ü–ò–¢–ï–† (3) - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –º—É–¥—Ä–æ—Å—Ç—å, –±–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
                    üåÄ –†–ê–•–£ (4) - –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ò–ò, —Ä–æ–±–æ—Ç—ã, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
                    ‚òøÔ∏è –ú–ï–†–ö–£–†–ò–ô (5) - –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –º–∏—Ä–∞–º–∏, —è–∑—ã–∫–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
                    ‚ôÄÔ∏è –í–ï–ù–ï–†–ê (6) - –ö—Ä–∞—Å–æ—Ç–∞ –∫–æ—Ä–∞–±–ª—è, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, –∏—Å–∫—É—Å—Å—Ç–≤–æ, –∫–æ–º—Ñ–æ—Ä—Ç
                    üîÆ –ö–ï–¢–£ (7) - –î—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –∏–Ω—Ç—É–∏—Ü–∏—è, –º–∞–≥–∏—è, –æ—Ç—Ä–µ—à–µ–Ω–Ω–æ—Å—Ç—å –æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ
                    ü™ê –°–ê–¢–£–†–ù (8) - –ü–æ—Ä—è–¥–æ–∫, –ø—Ä–∞–≤–∏–ª–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞
                    ‚öîÔ∏è –ú–ê–†–° (9) - –ó–∞—â–∏—Ç–∞, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, —Å–ø–æ—Ä—Ç, –≤–æ–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
                    ‚≠ï –ê–ù–£–ì–†–ê–•–ê (0) - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –∏–ª–∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è
                    """,
                    
                    "planets_and_numbers": """
                    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–ª–∞–Ω–µ—Ç –∏ —á–∏—Å–µ–ª:
                    1 = –°—É—Ä—å—è (–°–æ–ª–Ω—Ü–µ) - –ª–∏–¥–µ—Ä—Å—Ç–≤–æ, —ç–≥–æ, –æ—Ç–µ—Ü
                    2 = –ß–∞–Ω–¥—Ä–∞ (–õ—É–Ω–∞) - —ç–º–æ—Ü–∏–∏, –º–∞—Ç—å, –∏–Ω—Ç—É–∏—Ü–∏—è  
                    3 = –ì—É—Ä—É (–Æ–ø–∏—Ç–µ—Ä) - –º—É–¥—Ä–æ—Å—Ç—å, —É—á–∏—Ç–µ–ª—å, –∑–Ω–∞–Ω–∏—è
                    4 = –†–∞—Ö—É - –∏–ª–ª—é–∑–∏–∏, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ—Å—Ç—å, –∞–º–±–∏—Ü–∏–∏
                    5 = –ë—É–¥—Ö–∞ (–ú–µ—Ä–∫—É—Ä–∏–π) - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
                    6 = –®—É–∫—Ä–∞ (–í–µ–Ω–µ—Ä–∞) - –ª—é–±–æ–≤—å, –∫—Ä–∞—Å–æ—Ç–∞, —Ä–æ—Å–∫–æ—à—å
                    7 = –ö–µ—Ç—É - –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –º–∏—Å—Ç–∏–∫–∞, –ø—Ä–æ—à–ª–æ–µ
                    8 = –®–∞–Ω–∏ (–°–∞—Ç—É—Ä–Ω) - –∫–∞—Ä–º–∞, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞
                    9 = –ú–∞–Ω–≥–∞–ª–∞ (–ú–∞—Ä—Å) - —ç–Ω–µ—Ä–≥–∏—è, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —Å–∏–ª–∞
                    """,
                    
                    "three_states": """
                    –ö–∞–∂–¥–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç—Ä–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö (–ì—É–Ω—ã):
                    
                    üî¥ –†–ê–î–ñ–ê–° - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Å—Ç—å, –¥–µ–π—Å—Ç–≤–∏–µ
                    üîµ –°–ê–¢–¢–í–ê - –≥–∞—Ä–º–æ–Ω–∏—è, –º—É–¥—Ä–æ—Å—Ç—å, –±–∞–ª–∞–Ω—Å  
                    ‚ö´ –¢–ê–ú–ê–° - –∏–Ω–µ—Ä—Ç–Ω–æ—Å—Ç—å, –ª–µ–Ω—å, —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ
                    
                    –¶–µ–ª—å –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ - –Ω–∞—É—á–∏—Ç—å—Å—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏–∏ –ø–ª–∞–Ω–µ—Ç
                    –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –∏—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –°–∞—Ç—Ç–≤—ã –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏.
                    """
                },
                
                "practical_tips": {
                    "basic_calculations": """
                    –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã:
                    - –ß–∏—Å–ª–æ –î—É—à–∏ = –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–º—É)
                    - –ß–∏—Å–ª–æ –°—É–¥—å–±—ã = –ø–æ–ª–Ω–∞—è –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (—Å—É–º–º–∞ –≤—Å–µ—Ö —Ü–∏—Ñ—Ä)
                    - –ß–∏—Å–ª–æ –£–º–∞ = –º–µ—Å—è—Ü —Ä–æ–∂–¥–µ–Ω–∏—è
                    """,
                    
                    "how_to_use": """
                    –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—é:
                    1. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω
                    2. –í—ã–±–æ—Ä –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –¥–Ω–µ–π –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–µ–ª
                    3. –ì–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏—è —Å–ª–∞–±—ã—Ö –ø–ª–∞–Ω–µ—Ç —á–µ—Ä–µ–∑ —É–ø–∞–∏
                    4. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏
                    5. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
                    """
                }
            },
            exercises=exercises,
            quiz=intro_quiz,
            challenges=[sun_challenge],
            habit_tracker=sun_habit_tracker,
            points_required=5
        )
        
        self.lessons[first_lesson.id] = first_lesson
    
    def get_lesson(self, lesson_id: str) -> Optional[Lesson]:
        return self.lessons.get(lesson_id)
    
    def get_all_lessons(self) -> List[Lesson]:
        return list(self.lessons.values())
    
    def add_user_to_tracker(self, lesson_id: str, user_id: str):
        """–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ —Ç—Ä–µ–∫–µ—Ä—É –ø—Ä–∏–≤—ã—á–µ–∫ —É—Ä–æ–∫–∞"""
        lesson = self.get_lesson(lesson_id)
        if lesson and lesson.habit_tracker:
            lesson.habit_tracker.user_id = user_id
            lesson.habit_tracker.daily_completions = {
                datetime.now().strftime("%Y-%m-%d"): {habit["habit"]: False 
                    for habit in lesson.habit_tracker.planet_habits.get("sun", [])}
            }
    
    def update_habit_completion(self, lesson_id: str, user_id: str, habit_name: str, completed: bool):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏"""
        lesson = self.get_lesson(lesson_id)
        if lesson and lesson.habit_tracker and lesson.habit_tracker.user_id == user_id:
            today = datetime.now().strftime("%Y-%m-%d")
            if today not in lesson.habit_tracker.daily_completions:
                lesson.habit_tracker.daily_completions[today] = {}
            lesson.habit_tracker.daily_completions[today][habit_name] = completed
    
    def get_user_progress(self, lesson_id: str, user_id: str) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —É—Ä–æ–∫—É"""
        lesson = self.get_lesson(lesson_id)
        if not lesson:
            return {}
        
        progress = {
            "lesson_title": lesson.title,
            "exercises_completed": 0,
            "total_exercises": len(lesson.exercises),
            "quiz_completed": False,
            "challenges_active": len(lesson.challenges),
            "habit_tracker_days": 0
        }
        
        # –ü–æ–¥—Å—á–µ—Ç –¥–Ω–µ–π –≤ —Ç—Ä–µ–∫–µ—Ä–µ –ø—Ä–∏–≤—ã—á–µ–∫
        if lesson.habit_tracker and lesson.habit_tracker.user_id == user_id:
            progress["habit_tracker_days"] = len(lesson.habit_tracker.daily_completions)
        
        return progress

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–∏—Å—Ç–µ–º—ã —É—Ä–æ–∫–æ–≤
lesson_system = LessonSystem()